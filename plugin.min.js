!function(e){"use strict";var t={title:"Insert YouTube video",icon:"youtube.png",options:[{type:"textbox",name:"code",label:"Only the video ID"},{type:"listbox",name:"size",label:"Size",values:[{text:"560 x 315",value:{width:560,height:315}},{text:"1280 x 720",value:{width:1280,height:720}},{text:"853 x 480",value:{width:853,height:480}},{text:"640 x 360",value:{width:640,height:360}}]},{type:"checkbox",name:"rel",checked:!0,text:"Show suggested videos"},{type:"checkbox",name:"controls",checked:!0,text:"Show player controls"},{type:"checkbox",name:"showinfo",checked:!0,text:"Show video title and player actions"}],createEmbed:function(e){var t="https://www.youtube.com/embed/"+e.data.code,o=[];return e.data.rel||(o.rel=0),e.data.controls||(o.controls=0),e.data.showinfo||(o.showinfo=0),Object.keys(o).length>0&&(t+="?"+Object.keys(o).map(function(e){return e+"="+o[e]}).join("&")),'<iframe width="'+e.data.size.width+'" height="'+e.data.size.height+'" src="'+t+'" style="max-width: 100%;" frameborder="0" allowfullscreen></iframe>'}};e.PluginManager.add("youtube",function(e,o){e.addButton("youtube",{tooltip:t.title,image:o+"/icon/"+t.icon,onclick:function(){e.windowManager.open({title:t.title,body:t.options,onsubmit:function(o){o.data.code?e.insertContent(t.createEmbed(o)):tinyMCE.activeEditor.windowManager.alert("Please fill the code field to use YouTube plugin.")}})}}),e.addMenuItem("youtube",{text:t.title,icon:!0,image:o+"/icon/"+t.icon,context:"tools",onclick:function(){e.windowManager.open({title:t.title,body:t.options,onsubmit:function(o){o.data.code?e.insertContent(t.createEmbed(o)):tinyMCE.activeEditor.windowManager.alert("Please fill the code field to use YouTube plugin.")}})}})})}(window.tinymce);